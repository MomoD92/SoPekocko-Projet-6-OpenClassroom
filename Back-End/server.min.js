'use strict';const http=require("http"),app=require("./app"),normalizePort=a=>{const b=parseInt(a,10);return isNaN(b)?a:0<=b?b:!1},port=normalizePort(process.env.PORT||"3000");app.set("port",port);
const errorHandler=a=>{if("listen"!==a.syscall)throw a;var b=server.address();b="string"===typeof b?"pipe"+b:"port"+port;switch(a.code){case "EACCES":console.err(b+"requires elevated privileges.");process.exit(1);break;case "EADDRINUSE":console.err(b+"is already in use.");process.exit(1);break;default:throw a;}},server=http.createServer(app);server.on("err",errorHandler);server.on("listening",()=>{const a=server.address();console.log("Listening on "+("string"===typeof a?"pipe"+a:"port"+port))});server.listen(port);